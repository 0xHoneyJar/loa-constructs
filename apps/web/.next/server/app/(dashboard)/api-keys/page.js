(()=>{var e={};e.id=220,e.ids=[220],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3230:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c}),a(7574),a(9699),a(8714),a(9418);var t=a(3653),r=a(4966),l=a(6070),i=a.n(l),n=a(2555),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let c=["",{children:["(dashboard)",{children:["api-keys",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,7574)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/api-keys/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,9699)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,8714,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,9418)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,8714,23)),"next/dist/client/components/not-found-error"]}],o=["/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/api-keys/page.tsx"],x="/(dashboard)/api-keys/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/api-keys/page",pathname:"/api-keys",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8603:(e,s,a)=>{Promise.resolve().then(a.bind(a,7108))},7108:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>M});var t=a(2064),r=a(5032),l=a(2372),i=a(5395),n=a(1293),d=a(185),c=a(3310),o=a(7445),x=a(8243);let m=(0,x.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),p=(0,x.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var h=a(488),u=a(1814),y=a(1798),j=a(3189),f=a(3691);let g=(0,x.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var v=a(980),b=a(5403),N=a(1662),k=a(4055),w=a(8668),C=a(4342);let _=[{id:"1",name:"CI/CD Integration",prefix:"loa_sk_1234",scopes:["read","install"],createdAt:"2024-11-15",expiresAt:null,lastUsed:"2024-12-30"},{id:"2",name:"Development",prefix:"loa_sk_5678",scopes:["read","write","install"],createdAt:"2024-12-01",expiresAt:"2025-12-01",lastUsed:"2024-12-28"},{id:"3",name:"Testing",prefix:"loa_sk_9012",scopes:["read"],createdAt:"2024-12-20",expiresAt:"2025-03-20",lastUsed:null}],Z=[{id:"read",name:"Read",description:"Read skills and account info"},{id:"write",name:"Write",description:"Create and update skills"},{id:"install",name:"Install",description:"Install and uninstall skills"},{id:"admin",name:"Admin",description:"Full account access"}],A=[{value:"30",label:"30 days"},{value:"90",label:"90 days"},{value:"365",label:"1 year"},{value:"never",label:"Never expires"}],P=n.Ry({name:n.Z_().min(1,"Name is required").max(50,"Name must be 50 characters or less"),expiry:n.Z_(),scopes:n.IX(n.Z_()).min(1,"Select at least one scope")});function I({isOpen:e,onClose:s,onCreate:a}){let{register:r,handleSubmit:n,formState:{errors:c},watch:o,setValue:x,reset:m}=(0,l.cI)({resolver:(0,i.F)(P),defaultValues:{name:"",expiry:"90",scopes:["read"]}}),p=o("scopes"),h=e=>{let s=p||[];s.includes(e)?x("scopes",s.filter(s=>s!==e)):x("scopes",[...s,e])};return e?(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:s}),(0,t.jsxs)("div",{className:"relative bg-background border rounded-lg shadow-lg w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Create API Key"}),t.jsx(b.z,{variant:"ghost",size:"icon",onClick:s,children:t.jsx(d.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("form",{onSubmit:n(e=>{a(e),m()}),className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(k._,{htmlFor:"key-name",children:"Key Name"}),t.jsx(N.I,{id:"key-name",...r("name"),placeholder:"e.g., CI/CD Integration"}),c.name&&t.jsx("p",{className:"text-sm text-destructive",children:c.name.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(k._,{children:"Scopes"}),t.jsx("div",{className:"space-y-2",children:Z.map(e=>(0,t.jsxs)("label",{className:"flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-accent",children:[t.jsx(w.X,{checked:p?.includes(e.id),onCheckedChange:()=>h(e.id)}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-sm",children:e.name}),t.jsx("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.id))}),c.scopes&&t.jsx("p",{className:"text-sm text-destructive",children:c.scopes.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(k._,{htmlFor:"expiry",children:"Expiration"}),t.jsx("select",{id:"expiry",...r("expiry"),className:"w-full h-10 px-3 border rounded-md bg-background",children:A.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[t.jsx(b.z,{type:"button",variant:"outline",className:"flex-1",onClick:s,children:"Cancel"}),t.jsx(b.z,{type:"submit",className:"flex-1",children:"Create Key"})]})]})]})]}):null}function z({apiKey:e,onClose:s}){let[a,l]=(0,r.useState)(!1),[i,n]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50"}),t.jsx("div",{className:"relative bg-background border rounded-lg shadow-lg w-full max-w-md mx-4",children:(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-green-600",children:[t.jsx(c.Z,{className:"h-6 w-6"}),t.jsx("h2",{className:"text-lg font-semibold",children:"API Key Created"})]}),t.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[t.jsx(o.Z,{className:"h-5 w-5 text-amber-500 flex-shrink-0"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Save this key now"}),t.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300",children:"You won't be able to see it again after closing this dialog."})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(k._,{children:"Your API Key"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[t.jsx(N.I,{type:i?"text":"password",value:e,readOnly:!0,className:"pr-10 font-mono text-sm"}),t.jsx(b.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-7 w-7",onClick:()=>n(!i),children:i?t.jsx(m,{className:"h-4 w-4"}):t.jsx(p,{className:"h-4 w-4"})})]}),t.jsx(b.z,{variant:"outline",size:"icon",onClick:()=>{navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3)},children:a?t.jsx(c.Z,{className:"h-4 w-4"}):t.jsx(h.Z,{className:"h-4 w-4"})})]})]}),t.jsx(b.z,{className:"w-full",onClick:s,children:"I've saved the key"})]})})]})}function M(){let[e,s]=(0,r.useState)(_),[a,l]=(0,r.useState)(!1),[i,n]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),o=a=>{s(e.filter(e=>e.id!==a)),c(null)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"API Keys"}),t.jsx("p",{className:"text-muted-foreground",children:"Manage your API keys for CLI and integrations"})]}),(0,t.jsxs)(b.z,{onClick:()=>l(!0),children:[t.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Create Key"]})]}),t.jsx(v.Zb,{className:"bg-muted/50",children:t.jsx(v.aY,{className:"py-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx(y.Z,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm font-medium",children:"Keep your API keys secure"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Never share your API keys in public repositories or client-side code. Use environment variables to store them securely."})]})]})})}),(0,t.jsxs)(v.Zb,{children:[(0,t.jsxs)(v.Ol,{children:[(0,t.jsxs)(v.ll,{className:"flex items-center gap-2",children:[t.jsx(j.Z,{className:"h-5 w-5"}),"Your API Keys"]}),(0,t.jsxs)(v.SZ,{children:[e.length," key",1!==e.length?"s":""," total"]})]}),t.jsx(v.aY,{children:0===e.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(j.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No API keys yet"}),t.jsx("p",{className:"text-sm",children:"Create one to get started"})]}):t.jsx("div",{className:"space-y-4",children:e.map(e=>(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between p-4 border rounded-lg gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("p",{className:"font-medium",children:e.name}),(0,t.jsxs)("p",{className:"font-mono text-sm text-muted-foreground",children:[e.prefix,"..."]}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:e.scopes.map(e=>t.jsx("span",{className:"px-2 py-0.5 text-xs bg-muted rounded-full capitalize",children:e},e))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,t.jsxs)("p",{className:"flex items-center gap-1",children:[t.jsx(f.Z,{className:"h-3 w-3"}),"Created ",e.createdAt]}),e.expiresAt&&t.jsx("p",{className:(0,C.cn)(new Date(e.expiresAt)<new Date&&"text-destructive"),children:new Date(e.expiresAt)<new Date?"Expired":`Expires ${e.expiresAt}`}),e.lastUsed&&(0,t.jsxs)("p",{children:["Last used ",e.lastUsed]})]}),t.jsx("div",{className:"relative",children:d===e.id?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(b.z,{size:"sm",variant:"destructive",onClick:()=>o(e.id),children:"Confirm"}),t.jsx(b.z,{size:"sm",variant:"ghost",onClick:()=>c(null),children:"Cancel"})]}):t.jsx(b.z,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>c(e.id),children:t.jsx(g,{className:"h-4 w-4"})})})]})]},e.id))})})]}),t.jsx(I,{isOpen:a,onClose:()=>l(!1),onCreate:a=>{let t=`loa_sk_${Math.random().toString(36).substring(2,15)}${Math.random().toString(36).substring(2,15)}`,r="never"===a.expiry?null:new Date(Date.now()+864e5*parseInt(a.expiry)).toISOString().split("T")[0];s([{id:Math.random().toString(),name:a.name,prefix:t.substring(0,12),scopes:a.scopes,createdAt:new Date().toISOString().split("T")[0],expiresAt:r,lastUsed:null},...e]),l(!1),n(t)}}),i&&t.jsx(z,{apiKey:i,onClose:()=>n(null)})]})}},8668:(e,s,a)=>{"use strict";a.d(s,{X:()=>d});var t=a(2064),r=a(5032),l=a(7896),i=a(3310),n=a(4342);let d=r.forwardRef(({className:e,...s},a)=>t.jsx(l.fC,{ref:a,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(l.z$,{className:(0,n.cn)("flex items-center justify-center text-current"),children:t.jsx(i.Z,{className:"h-4 w-4"})})}));d.displayName=l.fC.displayName},4055:(e,s,a)=>{"use strict";a.d(s,{_:()=>c});var t=a(2064),r=a(5032),l=a(1937),i=a(5217),n=a(4342);let d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef(({className:e,...s},a)=>t.jsx(l.f,{ref:a,className:(0,n.cn)(d(),e),...s}));c.displayName=l.f.displayName},3691:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(8243).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7445:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(8243).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},488:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(8243).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},1814:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(8243).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},1798:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(8243).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},7574:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(1924).createProxy)(String.raw`/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/api-keys/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[569,307,308,444,724,404],()=>a(3230));module.exports=t})();