(()=>{var e={};e.id=811,e.ids=[811],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1186:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(521),t(9699),t(8714),t(9418);var r=t(3653),a=t(4966),l=t(6070),n=t.n(l),i=t(2555),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["(dashboard)",{children:["creator",{children:["skills",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,521)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/creator/skills/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9699)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,8714,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9418)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,8714,23)),"next/dist/client/components/not-found-error"]}],c=["/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/creator/skills/[id]/page.tsx"],m="/(dashboard)/creator/skills/[id]/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/creator/skills/[id]/page",pathname:"/creator/skills/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6653:(e,s,t)=>{Promise.resolve().then(t.bind(t,6590))},6590:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(2064),a=t(5032),l=t(303),n=t(4002),i=t(4028),o=t(8243);let d=(0,o.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var c=t(9200),m=t(4315),u=t(4998),h=t(3094);let x=(0,o.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var p=t(799),j=t(980),f=t(5403),g=t(112);function v({title:e,value:s,description:t,icon:a,trend:l}){return(0,r.jsxs)(j.Zb,{children:[(0,r.jsxs)(j.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[r.jsx(j.ll,{className:"text-sm font-medium text-muted-foreground",children:e}),r.jsx("div",{className:"h-8 w-8 rounded-md bg-primary/10 flex items-center justify-center text-primary",children:a})]}),(0,r.jsxs)(j.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:s}),t&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t}),l&&(0,r.jsxs)("p",{className:`text-xs mt-1 flex items-center gap-1 ${l.isPositive?"text-green-600":"text-red-600"}`,children:[l.isPositive?r.jsx(i.Z,{className:"h-3 w-3"}):r.jsx(d,{className:"h-3 w-3"}),Math.abs(l.value),"% vs last month"]})]})]})}function w({data:e}){if(0===e.length)return r.jsx("div",{className:"h-48 flex items-center justify-center text-muted-foreground",children:"No data available"});let s=Math.max(...e.map(e=>e.installs),1);return r.jsx("div",{className:"h-48 flex items-end gap-1 pt-4",children:e.map((e,t)=>{let a=e.installs/s*100;return(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[r.jsx("div",{className:"flex-1 w-full flex items-end justify-center",children:r.jsx("div",{className:"w-full max-w-[12px] bg-primary rounded-t transition-all",style:{height:`${a}%`,minHeight:e.installs>0?"4px":"0"},title:`${e.date}: ${e.installs} installs`})}),t%5==0&&r.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},e.date)})})}function y({versions:e}){return 0===e.length?r.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No version data available"}):r.jsx("div",{className:"space-y-3",children:e.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-16 text-sm font-mono",children:e.version}),r.jsx("div",{className:"flex-1 h-4 bg-muted rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-primary rounded-full transition-all",style:{width:`${e.percentage}%`}})}),(0,r.jsxs)("div",{className:"w-20 text-right text-sm",children:[r.jsx("span",{className:"font-mono",children:e.downloads.toLocaleString()}),(0,r.jsxs)("span",{className:"text-muted-foreground ml-1",children:["(",e.percentage.toFixed(1),"%)"]})]})]},e.version))})}function N(){let e=(0,l.useParams)().id,{getAccessToken:s,isAuthenticated:t}=(0,g.a)(),[o,d]=(0,a.useState)(null),[N,b]=(0,a.useState)(!0),[k,P]=(0,a.useState)(null);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(n.default,{href:"/creator",children:r.jsx(f.z,{variant:"ghost",size:"icon",children:r.jsx(c.Z,{className:"h-5 w-5"})})}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold",children:"Skill Analytics"}),r.jsx("p",{className:"text-muted-foreground",children:"Detailed statistics for your skill"})]})]}),N&&r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),k&&r.jsx(j.Zb,{className:"border-destructive",children:r.jsx(j.aY,{className:"py-6",children:r.jsx("p",{className:"text-destructive",children:k})})}),!N&&!k&&o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsx(v,{title:"Total Downloads",value:o.totalDownloads.toLocaleString(),description:"All time",icon:r.jsx(m.Z,{className:"h-4 w-4"})}),r.jsx(v,{title:"Active Installs",value:o.activeInstalls.toLocaleString(),description:"Current users",icon:r.jsx(u.Z,{className:"h-4 w-4"})}),r.jsx(v,{title:"Downloads This Month",value:o.downloadsThisMonth.toLocaleString(),icon:r.jsx(i.Z,{className:"h-4 w-4"}),trend:(()=>{if(!o||0===o.downloadsLastMonth)return;let e=(o.downloadsThisMonth-o.downloadsLastMonth)/o.downloadsLastMonth*100;return{value:Math.abs(Math.round(e)),isPositive:e>=0}})()}),r.jsx(v,{title:"Downloads Last Month",value:o.downloadsLastMonth.toLocaleString(),icon:r.jsx(h.Z,{className:"h-4 w-4"})})]}),(0,r.jsxs)(j.Zb,{children:[(0,r.jsxs)(j.Ol,{children:[(0,r.jsxs)(j.ll,{className:"flex items-center gap-2",children:[r.jsx(i.Z,{className:"h-5 w-5"}),"Download Trend"]}),r.jsx(j.SZ,{children:"Daily downloads over the last 30 days"})]}),r.jsx(j.aY,{children:r.jsx(w,{data:o.downloadsTrend})})]}),(0,r.jsxs)(j.Zb,{children:[(0,r.jsxs)(j.Ol,{children:[(0,r.jsxs)(j.ll,{className:"flex items-center gap-2",children:[r.jsx(x,{className:"h-5 w-5"}),"Downloads by Version"]}),r.jsx(j.SZ,{children:"Distribution of downloads across versions"})]}),r.jsx(j.aY,{children:r.jsx(y,{versions:o.downloadsByVersion})})]}),r.jsx("div",{className:"flex gap-4",children:r.jsx(n.default,{href:`/creator/skills/${e}/versions/new`,children:(0,r.jsxs)(f.z,{variant:"outline",children:[r.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Publish New Version"]})})})]})]})}},8243:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var r=t(5032);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,r.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:d,...c},m)=>(0,r.createElement)("svg",{ref:m,...n,width:s,height:s,stroke:e,strokeWidth:a?24*Number(t)/Number(s):t,className:l("lucide",i),...c},[...d.map(([e,s])=>(0,r.createElement)(e,s)),...Array.isArray(o)?o:[o]])),o=(e,s)=>{let t=(0,r.forwardRef)(({className:t,...n},o)=>(0,r.createElement)(i,{ref:o,iconNode:s,className:l(`lucide-${a(e)}`,t),...n}));return t.displayName=`${e}`,t}},9200:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(8243).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},4315:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(8243).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},4028:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(8243).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},303:(e,s,t)=>{"use strict";var r=t(246);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},521:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(1924).createProxy)(String.raw`/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/creator/skills/[id]/page.tsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[569,307,308,404],()=>t(1186));module.exports=r})();