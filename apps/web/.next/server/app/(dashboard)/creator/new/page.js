(()=>{var e={};e.id=86,e.ids=[86],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5882:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(5589),s(9699),s(8714),s(9418);var t=s(3653),a=s(4966),l=s(6070),i=s.n(l),n=s(2555),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(r,o);let c=["",{children:["(dashboard)",{children:["creator",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5589)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/creator/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9699)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,8714,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9418)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,8714,23)),"next/dist/client/components/not-found-error"]}],d=["/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/creator/new/page.tsx"],u="/(dashboard)/creator/new/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/creator/new/page",pathname:"/creator/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1185:(e,r,s)=>{Promise.resolve().then(s.bind(s,9422))},9422:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>j});var t=s(2064),a=s(5032),l=s(303),i=s(4002),n=s(9200),o=s(799);let c=(0,s(8243).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var d=s(980),u=s(5403),p=s(1662),m=s(4055),h=s(4342);let x=a.forwardRef(({className:e,...r},s)=>t.jsx("textarea",{className:(0,h.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...r}));x.displayName="Textarea";var g=s(112);let v=[{value:"development",label:"Development"},{value:"devops",label:"DevOps"},{value:"marketing",label:"Marketing"},{value:"sales",label:"Sales"},{value:"support",label:"Support"},{value:"analytics",label:"Analytics"},{value:"security",label:"Security"},{value:"other",label:"Other"}],f=[{value:"free",label:"Free",description:"Available to all users"},{value:"pro",label:"Pro",description:"Requires Pro subscription"},{value:"team",label:"Team",description:"Requires Team subscription"},{value:"enterprise",label:"Enterprise",description:"Requires Enterprise subscription"}];function b(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,100)}function j(){let e=(0,l.useRouter)(),{getAccessToken:r}=(0,g.a)(),[s,h]=(0,a.useState)(!1),[j,y]=(0,a.useState)(null),[w,N]=(0,a.useState)({name:"",slug:"",description:"",longDescription:"",category:"other",tags:"",tierRequired:"free",isPublic:!0,repositoryUrl:"",documentationUrl:""}),P=e=>{N(r=>({...r,name:e,slug:""===r.slug||r.slug===b(r.name)?b(e):r.slug}))},k=async s=>{s.preventDefault(),h(!0),y(null);try{let s=r(),t=await fetch(`${process.env.NEXT_PUBLIC_API_URL}/v1/creator/skills`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({...w,tags:w.tags.split(",").map(e=>e.trim()).filter(e=>e.length>0),repositoryUrl:w.repositoryUrl||null,documentationUrl:w.documentationUrl||null})}),a=await t.json();if(!t.ok)throw Error(a.error?.message||"Failed to create skill");e.push(`/creator/skills/${a.data.id}`)}catch(e){y(e instanceof Error?e.message:"An error occurred")}finally{h(!1)}};return(0,t.jsxs)("div",{className:"space-y-6 max-w-3xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx(i.default,{href:"/creator",children:t.jsx(u.z,{variant:"ghost",size:"icon",children:t.jsx(n.Z,{className:"h-5 w-5"})})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Create New Skill"}),t.jsx("p",{className:"text-muted-foreground",children:"Publish a skill to the Loa Registry"})]})]}),j&&t.jsx(d.Zb,{className:"border-destructive",children:t.jsx(d.aY,{className:"py-4",children:t.jsx("p",{className:"text-destructive",children:j})})}),(0,t.jsxs)("form",{onSubmit:k,children:[(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[t.jsx(o.Z,{className:"h-5 w-5"}),"Skill Details"]}),t.jsx(d.SZ,{children:"Basic information about your skill"})]}),(0,t.jsxs)(d.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(m._,{htmlFor:"name",children:["Name ",t.jsx("span",{className:"text-destructive",children:"*"})]}),t.jsx(p.I,{id:"name",value:w.name,onChange:e=>P(e.target.value),placeholder:"My Awesome Skill",required:!0,maxLength:100})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(m._,{htmlFor:"slug",children:["Slug ",t.jsx("span",{className:"text-destructive",children:"*"})]}),t.jsx(p.I,{id:"slug",value:w.slug,onChange:e=>N(r=>({...r,slug:e.target.value})),placeholder:"my-awesome-skill",required:!0,maxLength:100,pattern:"^[a-z0-9-]+$"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"URL-friendly identifier. Only lowercase letters, numbers, and hyphens."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"description",children:"Short Description"}),t.jsx(p.I,{id:"description",value:w.description,onChange:e=>N(r=>({...r,description:e.target.value})),placeholder:"A brief description of what this skill does",maxLength:500}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[w.description.length,"/500 characters"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"longDescription",children:"Full Description"}),t.jsx(x,{id:"longDescription",value:w.longDescription,onChange:e=>N(r=>({...r,longDescription:e.target.value})),placeholder:"Detailed description with usage examples, configuration options, etc. Markdown supported.",rows:6,maxLength:1e4}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[w.longDescription.length,"/10000 characters. Markdown supported."]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"category",children:"Category"}),t.jsx("select",{id:"category",value:w.category,onChange:e=>N(r=>({...r,category:e.target.value})),className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:v.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"tags",children:"Tags"}),t.jsx(p.I,{id:"tags",value:w.tags,onChange:e=>N(r=>({...r,tags:e.target.value})),placeholder:"automation, testing, ci-cd"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma-separated list of tags (max 10 tags, 50 chars each)"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{children:"Tier Required"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:f.map(e=>(0,t.jsxs)("label",{className:`flex flex-col items-center justify-center p-4 rounded-md border cursor-pointer transition-colors ${w.tierRequired===e.value?"border-primary bg-primary/10":"border-border hover:border-primary/50"}`,children:[t.jsx("input",{type:"radio",name:"tierRequired",value:e.value,checked:w.tierRequired===e.value,onChange:e=>N(r=>({...r,tierRequired:e.target.value})),className:"sr-only"}),t.jsx("span",{className:"font-medium",children:e.label}),t.jsx("span",{className:"text-xs text-muted-foreground text-center mt-1",children:e.description})]},e.value))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("input",{type:"checkbox",id:"isPublic",checked:w.isPublic,onChange:e=>N(r=>({...r,isPublic:e.target.checked})),className:"h-4 w-4 rounded border-input"}),t.jsx(m._,{htmlFor:"isPublic",className:"cursor-pointer",children:"Public skill (visible in registry)"})]})]})]}),(0,t.jsxs)(d.Zb,{className:"mt-6",children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsxs)(d.ll,{className:"flex items-center gap-2",children:[t.jsx(c,{className:"h-5 w-5"}),"Optional Information"]}),t.jsx(d.SZ,{children:"Links to external resources"})]}),(0,t.jsxs)(d.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"repositoryUrl",children:"Repository URL"}),t.jsx(p.I,{id:"repositoryUrl",type:"url",value:w.repositoryUrl,onChange:e=>N(r=>({...r,repositoryUrl:e.target.value})),placeholder:"https://github.com/username/skill-repo"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{htmlFor:"documentationUrl",children:"Documentation URL"}),t.jsx(p.I,{id:"documentationUrl",type:"url",value:w.documentationUrl,onChange:e=>N(r=>({...r,documentationUrl:e.target.value})),placeholder:"https://docs.example.com/my-skill"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-4 mt-6",children:[t.jsx(i.default,{href:"/creator",children:t.jsx(u.z,{variant:"outline",type:"button",children:"Cancel"})}),t.jsx(u.z,{type:"submit",disabled:s||!w.name||!w.slug,children:s?(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{className:"animate-spin mr-2",children:"..."}),"Creating..."]}):"Create Skill"})]})]})]})}},4055:(e,r,s)=>{"use strict";s.d(r,{_:()=>c});var t=s(2064),a=s(5032),l=s(1937),i=s(5217),n=s(4342);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef(({className:e,...r},s)=>t.jsx(l.f,{ref:s,className:(0,n.cn)(o(),e),...r}));c.displayName=l.f.displayName},8243:(e,r,s)=>{"use strict";s.d(r,{Z:()=>o});var t=s(5032);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(...e)=>e.filter((e,r,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===r).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:c,...d},u)=>(0,t.createElement)("svg",{ref:u,...i,width:r,height:r,stroke:e,strokeWidth:a?24*Number(s)/Number(r):s,className:l("lucide",n),...d},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),o=(e,r)=>{let s=(0,t.forwardRef)(({className:s,...i},o)=>(0,t.createElement)(n,{ref:o,iconNode:r,className:l(`lucide-${a(e)}`,s),...i}));return s.displayName=`${e}`,s}},9200:(e,r,s)=>{"use strict";s.d(r,{Z:()=>t});let t=(0,s(8243).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},303:(e,r,s)=>{"use strict";var t=s(246);s.o(t,"useParams")&&s.d(r,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(r,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(r,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(r,{useSearchParams:function(){return t.useSearchParams}})},5589:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(1924).createProxy)(String.raw`/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/creator/new/page.tsx#default`)},1937:(e,r,s)=>{"use strict";s.d(r,{f:()=>o});var t=s(5032);s(5517);var a=s(8265),l=s(2064),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let s=(0,a.Z8)(`Primitive.${r}`),i=t.forwardRef((e,t)=>{let{asChild:a,...i}=e,n=a?s:r;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(n,{...i,ref:t})});return i.displayName=`Primitive.${r}`,{...e,[r]:i}},{}),n=t.forwardRef((e,r)=>(0,l.jsx)(i.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n.displayName="Label";var o=n}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[569,307,308,404],()=>s(5882));module.exports=t})();