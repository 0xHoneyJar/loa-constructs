(()=>{var e={};e.id=302,e.ids=[302],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7759:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),t(5002),t(9699),t(8714),t(9418);var a=t(3653),r=t(4966),l=t(6070),n=t.n(l),i=t(2555),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let o=["",{children:["(dashboard)",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5002)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/analytics/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9699)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,8714,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9418)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,8714,23)),"next/dist/client/components/not-found-error"]}],c=["/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/analytics/page.tsx"],m="/(dashboard)/analytics/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/analytics/page",pathname:"/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9314:(e,s,t)=>{Promise.resolve().then(t.bind(t,1206))},1206:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var a=t(2064),r=t(5032),l=t(799),n=t(4315),i=t(4028),d=t(3094),o=t(2886),c=t(980),m=t(5403),x=t(112);function u({title:e,value:s,description:t,icon:r}){return(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(c.ll,{className:"text-sm font-medium text-muted-foreground",children:e}),a.jsx("div",{className:"h-8 w-8 rounded-md bg-primary/10 flex items-center justify-center text-primary",children:r})]}),(0,a.jsxs)(c.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s}),t&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t})]})]})}function h({data:e}){if(0===e.length)return a.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:"No usage data available"});let s=Math.max(Math.max(...e.map(e=>e.installs),1),Math.max(...e.map(e=>e.loads),1));return a.jsx("div",{className:"h-64 flex items-end gap-1 pt-4",children:e.map((e,t)=>{let r=e.installs/s*100,l=e.loads/s*100;return(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[(0,a.jsxs)("div",{className:"flex-1 w-full flex items-end justify-center gap-0.5",children:[a.jsx("div",{className:"w-2 bg-blue-500 rounded-t transition-all",style:{height:`${r}%`,minHeight:e.installs>0?"4px":"0"},title:`Installs: ${e.installs}`}),a.jsx("div",{className:"w-2 bg-green-500 rounded-t transition-all",style:{height:`${l}%`,minHeight:e.loads>0?"4px":"0"},title:`Loads: ${e.loads}`})]}),t%7==0&&a.jsx("span",{className:"text-[10px] text-muted-foreground",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},e.date)})})}function p({skills:e}){return 0===e.length?a.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"No skill usage in this period"}):a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-2 text-sm font-medium text-muted-foreground",children:"Skill"}),a.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-muted-foreground",children:"Installs"}),a.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-muted-foreground",children:"Loads"}),a.jsx("th",{className:"text-right py-3 px-2 text-sm font-medium text-muted-foreground",children:"Last Used"})]})}),a.jsx("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{className:"border-b last:border-0",children:[(0,a.jsxs)("td",{className:"py-3 px-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(l.Z,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:e.skillName})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:e.skillSlug})]}),a.jsx("td",{className:"text-right py-3 px-2 font-mono",children:e.installs}),a.jsx("td",{className:"text-right py-3 px-2 font-mono",children:e.loads}),a.jsx("td",{className:"text-right py-3 px-2 text-sm text-muted-foreground",children:e.lastUsedAt?new Date(e.lastUsedAt).toLocaleDateString():"-"})]},e.skillId))})]})})}function g(){let{getAccessToken:e,isAuthenticated:s}=(0,x.a)(),[t,g]=(0,r.useState)("30d"),[j,f]=(0,r.useState)(null),[y,N]=(0,r.useState)(!0),[b,v]=(0,r.useState)(null),w={"7d":"Last 7 days","30d":"Last 30 days","90d":"Last 90 days"};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Usage Analytics"}),a.jsx("p",{className:"text-muted-foreground",children:"Track your skill usage and activity"})]}),a.jsx("div",{className:"flex gap-2",children:["7d","30d","90d"].map(e=>a.jsx(m.z,{variant:t===e?"default":"outline",size:"sm",onClick:()=>g(e),children:w[e]},e))})]}),y&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),b&&a.jsx(c.Zb,{className:"border-destructive",children:a.jsx(c.aY,{className:"py-6",children:a.jsx("p",{className:"text-destructive",children:b})})}),!y&&!b&&j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(u,{title:"Total Installs",value:j.totalInstalls,description:w[t],icon:a.jsx(n.Z,{className:"h-4 w-4"})}),a.jsx(u,{title:"Total Loads",value:j.totalLoads,description:w[t],icon:a.jsx(i.Z,{className:"h-4 w-4"})}),a.jsx(u,{title:"Skills Used",value:j.skillsUsed,description:"Unique skills",icon:a.jsx(l.Z,{className:"h-4 w-4"})})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsxs)(c.ll,{className:"flex items-center gap-2",children:[a.jsx(d.Z,{className:"h-5 w-5"}),"Usage Trend"]}),a.jsx(c.SZ,{children:"Daily installs (blue) and loads (green) over time"})]}),(0,a.jsxs)(c.aY,{children:[a.jsx(h,{data:j.usageTrend}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-6 mt-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded"}),a.jsx("span",{children:"Installs"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),a.jsx("span",{children:"Loads"})]})]})]})]}),(0,a.jsxs)(c.Zb,{children:[(0,a.jsxs)(c.Ol,{children:[(0,a.jsxs)(c.ll,{className:"flex items-center gap-2",children:[a.jsx(l.Z,{className:"h-5 w-5"}),"Usage by Skill"]}),(0,a.jsxs)(c.SZ,{children:["Top skills by usage in ",w[t].toLowerCase()]})]}),a.jsx(c.aY,{children:a.jsx(p,{skills:j.usageBySkill})})]})]}),!y&&!b&&!j&&a.jsx(c.Zb,{children:(0,a.jsxs)(c.aY,{className:"py-12 text-center",children:[a.jsx(o.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No usage data yet"}),a.jsx("p",{className:"text-muted-foreground",children:"Install and use skills to see your usage analytics here."})]})})]})}},8243:(e,s,t)=>{"use strict";t.d(s,{Z:()=>d});var a=t(5032);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:d,iconNode:o,...c},m)=>(0,a.createElement)("svg",{ref:m,...n,width:s,height:s,stroke:e,strokeWidth:r?24*Number(t)/Number(s):t,className:l("lucide",i),...c},[...o.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(d)?d:[d]])),d=(e,s)=>{let t=(0,a.forwardRef)(({className:t,...n},d)=>(0,a.createElement)(i,{ref:d,iconNode:s,className:l(`lucide-${r(e)}`,t),...n}));return t.displayName=`${e}`,t}},2886:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(8243).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4315:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(8243).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},4028:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(8243).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},303:(e,s,t)=>{"use strict";var a=t(246);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},5002:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(1924).createProxy)(String.raw`/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/analytics/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[569,307,308,404],()=>t(7759));module.exports=a})();