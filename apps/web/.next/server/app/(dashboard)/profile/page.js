(()=>{var e={};e.id=688,e.ids=[688],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3035:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(8560),r(9699),r(8714),r(9418);var a=r(3653),t=r(4966),n=r(6070),l=r.n(n),i=r(2555),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(s,o);let d=["",{children:["(dashboard)",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8560)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9699)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,8714,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9418)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,8714,23)),"next/dist/client/components/not-found-error"]}],c=["/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/profile/page.tsx"],m="/(dashboard)/profile/page",u={require:r,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/(dashboard)/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},1731:(e,s,r)=>{Promise.resolve().then(r.bind(r,6967))},6967:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>v});var a=r(2064),t=r(5032),n=r(2372),l=r(5395),i=r(1293),o=r(8243);let d=(0,o.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);var c=r(3310);let m=(0,o.Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),u=(0,o.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var h=r(7445),x=r(980),p=r(5403),j=r(1662),f=r(4055),w=r(112),g=r(4342);let y=i.Ry({name:i.Z_().min(2,"Name must be at least 2 characters")}),b=i.Ry({currentPassword:i.Z_().min(1,"Current password is required"),newPassword:i.Z_().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:i.Z_()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function v(){let{user:e}=(0,w.a)(),[s,r]=(0,t.useState)(!1),[i,o]=(0,t.useState)(!1),[v,P]=(0,t.useState)(!1),[N,k]=(0,t.useState)(!1),[C,_]=(0,t.useState)(null),Z=(0,t.useRef)(null),{register:S,handleSubmit:A,formState:{errors:F}}=(0,n.cI)({resolver:(0,l.F)(y),defaultValues:{name:e?.name||""}}),{register:E,handleSubmit:M,formState:{errors:R},reset:q}=(0,n.cI)({resolver:(0,l.F)(b)}),z=async e=>{r(!0),P(!1),await new Promise(e=>setTimeout(e,1e3)),console.log("Profile data:",e),r(!1),P(!0),setTimeout(()=>P(!1),3e3)},D=async e=>{o(!0),k(!1),await new Promise(e=>setTimeout(e,1e3)),console.log("Password change:",e),o(!1),k(!0),q(),setTimeout(()=>k(!1),3e3)},I=e?.name?.[0]?.toUpperCase()||e?.email?.[0]?.toUpperCase()||"U";return(0,a.jsxs)("div",{className:"space-y-6 max-w-2xl",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Profile Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your account details"})]}),(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"Profile Information"}),a.jsx(x.SZ,{children:"Update your profile photo and display name"})]}),a.jsx(x.aY,{children:(0,a.jsxs)("form",{onSubmit:A(z),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{ref:Z,type:"file",accept:"image/*",onChange:e=>{let s=e.target.files?.[0];if(s){if(s.size>5242880){alert("File size must be less than 5MB");return}let e=new FileReader;e.onloadend=()=>{_(e.result)},e.readAsDataURL(s)}},className:"hidden"}),(0,a.jsxs)("button",{type:"button",onClick:()=>{Z.current?.click()},className:"relative h-24 w-24 rounded-full overflow-hidden group",children:[C?a.jsx("img",{src:C,alt:"Avatar preview",className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full bg-primary/10 flex items-center justify-center",children:a.jsx("span",{className:"text-3xl font-medium text-primary",children:I})}),a.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(d,{className:"h-6 w-6 text-white"})})]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[a.jsx("p",{children:"Click to upload a new avatar"}),a.jsx("p",{children:"JPG, PNG, GIF up to 5MB"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(f._,{htmlFor:"name",children:"Display Name"}),a.jsx(j.I,{id:"name",...S("name"),placeholder:"Your name"}),F.name&&a.jsx("p",{className:"text-sm text-destructive",children:F.name.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(f._,{htmlFor:"email",children:"Email Address"}),a.jsx(j.I,{id:"email",value:e?.email||"",disabled:!0,className:"bg-muted"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed. Contact support if you need to update it."})]}),a.jsx(p.z,{type:"submit",disabled:s,children:s?"Saving...":v?(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Saved"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(m,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})})]}),(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{children:[(0,a.jsxs)(x.ll,{className:"flex items-center gap-2",children:[a.jsx(u,{className:"h-5 w-5"}),"Change Password"]}),a.jsx(x.SZ,{children:"Update your password to keep your account secure"})]}),a.jsx(x.aY,{children:(0,a.jsxs)("form",{onSubmit:M(D),className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(f._,{htmlFor:"currentPassword",children:"Current Password"}),a.jsx(j.I,{id:"currentPassword",type:"password",...E("currentPassword"),placeholder:"Enter current password"}),R.currentPassword&&a.jsx("p",{className:"text-sm text-destructive",children:R.currentPassword.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(f._,{htmlFor:"newPassword",children:"New Password"}),a.jsx(j.I,{id:"newPassword",type:"password",...E("newPassword"),placeholder:"Enter new password"}),R.newPassword&&a.jsx("p",{className:"text-sm text-destructive",children:R.newPassword.message})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(f._,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsx(j.I,{id:"confirmPassword",type:"password",...E("confirmPassword"),placeholder:"Confirm new password"}),R.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:R.confirmPassword.message})]}),(0,a.jsxs)("div",{className:"bg-muted/50 p-3 rounded-lg text-sm space-y-1",children:[a.jsx("p",{className:"font-medium",children:"Password requirements:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside text-muted-foreground space-y-0.5",children:[a.jsx("li",{children:"At least 8 characters"}),a.jsx("li",{children:"One uppercase letter"}),a.jsx("li",{children:"One lowercase letter"}),a.jsx("li",{children:"One number"})]})]}),N&&(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg text-green-800 dark:text-green-200",children:[a.jsx(c.Z,{className:"h-5 w-5"}),a.jsx("span",{children:"Password changed successfully"})]}),a.jsx(p.z,{type:"submit",variant:"secondary",disabled:i,children:i?"Changing...":"Change Password"})]})})]}),(0,a.jsxs)(x.Zb,{children:[a.jsx(x.Ol,{children:a.jsx(x.ll,{children:"Account Information"})}),(0,a.jsxs)(x.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-muted-foreground",children:"Account Created"}),a.jsx("span",{children:"December 1, 2024"})]}),(0,a.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-muted-foreground",children:"Current Plan"}),a.jsx("span",{className:"capitalize",children:e?.role||"Free"})]}),(0,a.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[a.jsx("span",{className:"text-muted-foreground",children:"Email Verified"}),a.jsx("span",{className:(0,g.cn)(e?.emailVerified?"text-green-600":"text-amber-600"),children:e?.emailVerified?"Yes":"No"})]})]})]}),(0,a.jsxs)(x.Zb,{className:"border-destructive/50",children:[a.jsx(x.Ol,{children:(0,a.jsxs)(x.ll,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(h.Z,{className:"h-5 w-5"}),"Danger Zone"]})}),(0,a.jsxs)(x.aY,{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),a.jsx(p.z,{variant:"destructive",onClick:()=>alert("Account deletion not implemented"),children:"Delete Account"})]})]})]})}},4055:(e,s,r)=>{"use strict";r.d(s,{_:()=>d});var a=r(2064),t=r(5032),n=r(1937),l=r(5217),i=r(4342);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=t.forwardRef(({className:e,...s},r)=>a.jsx(n.f,{ref:r,className:(0,i.cn)(o(),e),...s}));d.displayName=n.f.displayName},8243:(e,s,r)=>{"use strict";r.d(s,{Z:()=>o});var a=r(5032);let t=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,s,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===s).join(" ").trim();var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:t,className:i="",children:o,iconNode:d,...c},m)=>(0,a.createElement)("svg",{ref:m,...l,width:s,height:s,stroke:e,strokeWidth:t?24*Number(r)/Number(s):r,className:n("lucide",i),...c},[...d.map(([e,s])=>(0,a.createElement)(e,s)),...Array.isArray(o)?o:[o]])),o=(e,s)=>{let r=(0,a.forwardRef)(({className:r,...l},o)=>(0,a.createElement)(i,{ref:o,iconNode:s,className:n(`lucide-${t(e)}`,r),...l}));return r.displayName=`${e}`,r}},3310:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(8243).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7445:(e,s,r)=>{"use strict";r.d(s,{Z:()=>a});let a=(0,r(8243).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},303:(e,s,r)=>{"use strict";var a=r(246);r.o(a,"useParams")&&r.d(s,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},8560:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(1924).createProxy)(String.raw`/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(dashboard)/profile/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[569,307,308,444,404],()=>r(3035));module.exports=a})();