(()=>{var e={};e.id=552,e.ids=[552],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5222:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(7129),r(9483),r(8714),r(9418);var s=r(3653),a=r(4966),n=r(6070),i=r.n(n),l=r(2555),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["(auth)",{children:["verify-email",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,7129)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(auth)/verify-email/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9483)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(auth)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,8714,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9418)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,8714,23)),"next/dist/client/components/not-found-error"]}],d=["/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(auth)/verify-email/page.tsx"],u="/(auth)/verify-email/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/verify-email/page",pathname:"/verify-email",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2231:(e,t,r)=>{Promise.resolve().then(r.bind(r,5412))},7700:(e,t,r)=>{Promise.resolve().then(r.bind(r,112))},7391:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,417,23)),Promise.resolve().then(r.t.bind(r,181,23)),Promise.resolve().then(r.t.bind(r,7814,23)),Promise.resolve().then(r.t.bind(r,5266,23)),Promise.resolve().then(r.t.bind(r,490,23)),Promise.resolve().then(r.t.bind(r,2648,23))},2740:()=>{},5412:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(2064),a=r(5032),n=r(4002),i=r(303),l=r(5403),o=r(980);function c(){(0,i.useRouter)();let e=(0,i.useSearchParams)(),t=e.get("token"),r=e.get("email"),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,x]=(0,a.useState)(null),f=async()=>{if(!r){x("No email address provided");return}d(!0),x(null);try{let e=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",t=await fetch(`${e}/v1/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r})});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to resend verification email")}x(null),alert("Verification email sent! Please check your inbox.")}catch(e){x(e instanceof Error?e.message:"Failed to resend. Please try again.")}finally{d(!1)}};return t&&c?(0,s.jsxs)(o.Zb,{children:[(0,s.jsxs)(o.Ol,{className:"space-y-1",children:[s.jsx(o.ll,{className:"text-2xl text-center",children:"Verifying email..."}),s.jsx(o.SZ,{className:"text-center",children:"Please wait while we verify your email"})]}),s.jsx(o.aY,{children:s.jsx("div",{className:"flex justify-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):u?(0,s.jsxs)(o.Zb,{children:[(0,s.jsxs)(o.Ol,{className:"space-y-1",children:[s.jsx(o.ll,{className:"text-2xl text-center",children:"Email verified!"}),s.jsx(o.SZ,{className:"text-center",children:"Your email has been successfully verified"})]}),s.jsx(o.aY,{className:"space-y-4",children:s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"You can now sign in to your account."})}),s.jsx(o.eW,{className:"flex justify-center",children:s.jsx(n.default,{href:"/login",children:s.jsx(l.z,{children:"Sign in"})})})]}):t&&m?(0,s.jsxs)(o.Zb,{children:[(0,s.jsxs)(o.Ol,{className:"space-y-1",children:[s.jsx(o.ll,{className:"text-2xl text-center",children:"Verification failed"}),s.jsx(o.SZ,{className:"text-center",children:"We couldn't verify your email"})]}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[s.jsx("div",{className:"p-3 text-sm text-destructive bg-destructive/10 rounded-md text-center",children:m}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"The verification link may have expired or is invalid."})]}),(0,s.jsxs)(o.eW,{className:"flex justify-center gap-4",children:[s.jsx(n.default,{href:"/login",children:s.jsx(l.z,{variant:"outline",children:"Sign in"})}),s.jsx(n.default,{href:"/register",children:s.jsx(l.z,{children:"Try again"})})]})]}):(0,s.jsxs)(o.Zb,{children:[(0,s.jsxs)(o.Ol,{className:"space-y-1",children:[s.jsx(o.ll,{className:"text-2xl text-center",children:"Check your email"}),s.jsx(o.SZ,{className:"text-center",children:"We've sent a verification link to your email"})]}),(0,s.jsxs)(o.aY,{className:"space-y-4",children:[r&&(0,s.jsxs)("p",{className:"text-sm text-muted-foreground text-center",children:["Verification email sent to ",s.jsx("strong",{children:r})]}),s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Click the link in the email to verify your account. If you don't see it, check your spam folder."}),m&&s.jsx("div",{className:"p-3 text-sm text-destructive bg-destructive/10 rounded-md text-center",children:m}),r&&s.jsx("div",{className:"text-center",children:s.jsx(l.z,{variant:"outline",onClick:f,disabled:c,children:c?"Sending...":"Resend verification email"})})]}),s.jsx(o.eW,{className:"flex justify-center",children:(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Already verified?"," ",s.jsx(n.default,{href:"/login",className:"text-primary underline-offset-4 hover:underline",children:"Sign in"})]})})]})}function d(){return s.jsx(a.Suspense,{fallback:s.jsx(o.Zb,{children:s.jsx(o.aY,{className:"p-6",children:s.jsx("div",{className:"text-center text-muted-foreground",children:"Loading..."})})}),children:s.jsx(c,{})})}},5403:(e,t,r)=>{"use strict";r.d(t,{z:()=>c});var s=r(2064),a=r(5032),n=r(8265),i=r(5217),l=r(4342);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...i},c)=>{let d=a?n.g7:"button";return s.jsx(d,{className:(0,l.cn)(o({variant:t,size:r,className:e})),ref:c,...i})});c.displayName="Button"},980:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>l,SZ:()=>c,Zb:()=>i,aY:()=>d,eW:()=>u,ll:()=>o});var s=r(2064),a=r(5032),n=r(4342);let i=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));i.displayName="Card";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},112:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>d,a:()=>u});var s=r(2064),a=r(5032),n=r(456);let i=(0,a.createContext)(void 0),l=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",o="access_token",c="refresh_token";function d({children:e}){let[t,r]=(0,a.useState)({user:null,isLoading:!0,isAuthenticated:!1}),d=(0,a.useCallback)((e,t,r=!1)=>{let s={secure:!0,sameSite:"lax"};r&&(s.expires=30),n.Z.set(o,e,s),n.Z.set(c,t,s)},[]),u=(0,a.useCallback)(()=>{n.Z.remove(o),n.Z.remove(c)},[]),h=(0,a.useCallback)(()=>n.Z.get(o),[]),m=(0,a.useCallback)(()=>n.Z.get(c),[]);(0,a.useCallback)(async()=>{let e=h();if(!e)return null;try{let t=await fetch(`${l}/v1/auth/me`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok){if(401===t.status)return null;throw Error("Failed to fetch user")}return(await t.json()).user}catch{return null}},[h]);let x=(0,a.useCallback)(async()=>{let e=m();if(!e)throw Error("No refresh token available");let t=await fetch(`${l}/v1/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(!t.ok)throw u(),r({user:null,isLoading:!1,isAuthenticated:!1}),Error("Failed to refresh token");let s=await t.json();d(s.accessToken,s.refreshToken)},[m,d,u]),f=(0,a.useCallback)(async(e,t,s=!1)=>{let a=await fetch(`${l}/v1/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok)throw Error((await a.json()).error||"Login failed");let n=await a.json();d(n.accessToken,n.refreshToken,s),r({user:n.user,isLoading:!1,isAuthenticated:!0})},[d]),p=(0,a.useCallback)(async(e,t,s)=>{let a=await fetch(`${l}/v1/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:s})});if(!a.ok)throw Error((await a.json()).error||"Registration failed");let n=await a.json();d(n.accessToken,n.refreshToken),r({user:n.user,isLoading:!1,isAuthenticated:!0})},[d]),g=(0,a.useCallback)(async()=>{let e=h();try{e&&await fetch(`${l}/v1/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${e}`}})}catch{}u(),r({user:null,isLoading:!1,isAuthenticated:!1})},[h,u]);return s.jsx(i.Provider,{value:{...t,login:f,register:p,logout:g,refreshToken:x,getAccessToken:h},children:e})}function u(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4342:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(3921),a=r(1417);function n(...e){return(0,a.m6)((0,s.W)(e))}},303:(e,t,r)=>{"use strict";var s=r(246);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},9483:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(9222);function a({children:e}){return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:[(0,s.jsxs)("div",{className:"mb-8 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Loa Skills Registry"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Agent-driven development framework"})]}),s.jsx("div",{className:"w-full max-w-md",children:e}),s.jsx("footer",{className:"mt-8 text-center text-sm text-muted-foreground",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," The Honey Jar. All rights reserved."]})})]})}},7129:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(1924).createProxy)(String.raw`/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(auth)/verify-email/page.tsx#default`)},9418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>o});var s=r(9222),a=r(414),n=r.n(a),i=r(1924);let l=(0,i.createProxy)(String.raw`/home/merlin/Documents/thj/code/loa-registry/apps/web/src/contexts/auth-context.tsx#AuthProvider`);(0,i.createProxy)(String.raw`/home/merlin/Documents/thj/code/loa-registry/apps/web/src/contexts/auth-context.tsx#useAuth`),r(5988);let o={title:{default:"Loa Skills Registry",template:"%s | Loa Skills Registry"},description:"Discover, install, and manage AI agent skills for the Loa framework",keywords:["AI skills","Claude","Loa framework","agent skills","marketplace"]};function c({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:`${n().variable} font-sans antialiased`,children:s.jsx(l,{children:e})})})}},5988:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[569,307,308],()=>r(5222));module.exports=s})();