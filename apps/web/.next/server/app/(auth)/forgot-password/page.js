(()=>{var e={};e.id=985,e.ids=[985],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2733:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(5816),r(9483),r(8714),r(9418);var s=r(3653),a=r(4966),o=r(6070),n=r.n(o),i=r(2555),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["(auth)",{children:["forgot-password",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5816)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(auth)/forgot-password/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9483)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(auth)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,8714,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,9418)),"/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,8714,23)),"next/dist/client/components/not-found-error"]}],c=["/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(auth)/forgot-password/page.tsx"],u="/(auth)/forgot-password/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(auth)/forgot-password/page",pathname:"/forgot-password",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6742:(e,t,r)=>{Promise.resolve().then(r.bind(r,3844))},7700:(e,t,r)=>{Promise.resolve().then(r.bind(r,112))},7391:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,417,23)),Promise.resolve().then(r.t.bind(r,181,23)),Promise.resolve().then(r.t.bind(r,7814,23)),Promise.resolve().then(r.t.bind(r,5266,23)),Promise.resolve().then(r.t.bind(r,490,23)),Promise.resolve().then(r.t.bind(r,2648,23))},2740:()=>{},3844:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(2064),a=r(5032),o=r(4002),n=r(2372),i=r(5395),l=r(1293),d=r(5403),c=r(1662),u=r(4055),m=r(980);let h=l.Ry({email:l.Z_().email("Please enter a valid email address")});function f(){let[e,t]=(0,a.useState)(!1),[r,l]=(0,a.useState)(!1),[f,p]=(0,a.useState)(null),{register:x,handleSubmit:g,formState:{errors:y}}=(0,n.cI)({resolver:(0,i.F)(h),defaultValues:{email:""}}),v=async e=>{t(!0),p(null);try{let t=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",r=await fetch(`${t}/v1/auth/forgot-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email})});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to send reset email")}l(!0)}catch(e){p(e instanceof Error?e.message:"An error occurred. Please try again.")}finally{t(!1)}};return r?(0,s.jsxs)(m.Zb,{children:[(0,s.jsxs)(m.Ol,{className:"space-y-1",children:[s.jsx(m.ll,{className:"text-2xl text-center",children:"Check your email"}),s.jsx(m.SZ,{className:"text-center",children:"We've sent a password reset link to your email address"})]}),s.jsx(m.aY,{className:"space-y-4",children:s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"If you don't see the email, check your spam folder. The link will expire in 1 hour."})}),s.jsx(m.eW,{className:"flex justify-center",children:s.jsx(o.default,{href:"/login",children:s.jsx(d.z,{variant:"link",children:"Back to sign in"})})})]}):(0,s.jsxs)(m.Zb,{children:[(0,s.jsxs)(m.Ol,{className:"space-y-1",children:[s.jsx(m.ll,{className:"text-2xl text-center",children:"Forgot password?"}),s.jsx(m.SZ,{className:"text-center",children:"Enter your email and we'll send you a reset link"})]}),s.jsx(m.aY,{className:"space-y-4",children:(0,s.jsxs)("form",{onSubmit:g(v),className:"space-y-4",children:[f&&s.jsx("div",{className:"p-3 text-sm text-destructive bg-destructive/10 rounded-md",children:f}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(u._,{htmlFor:"email",children:"Email"}),s.jsx(c.I,{id:"email",type:"email",placeholder:"name@example.com",autoComplete:"email",disabled:e,...x("email")}),y.email&&s.jsx("p",{className:"text-sm text-destructive",children:y.email.message})]}),s.jsx(d.z,{type:"submit",className:"w-full",disabled:e,children:e?"Sending...":"Send reset link"})]})}),s.jsx(m.eW,{className:"flex justify-center",children:(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Remember your password?"," ",s.jsx(o.default,{href:"/login",className:"text-primary underline-offset-4 hover:underline",children:"Sign in"})]})})]})}},5403:(e,t,r)=>{"use strict";r.d(t,{z:()=>d});var s=r(2064),a=r(5032),o=r(8265),n=r(5217),i=r(4342);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},d)=>{let c=a?o.g7:"button";return s.jsx(c,{className:(0,i.cn)(l({variant:t,size:r,className:e})),ref:d,...n})});d.displayName="Button"},980:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>i,SZ:()=>d,Zb:()=>n,aY:()=>c,eW:()=>u,ll:()=>l});var s=r(2064),a=r(5032),o=r(4342);let n=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));n.displayName="Card";let i=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));i.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,o.cn)("font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},1662:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var s=r(2064),a=r(5032),o=r(4342);let n=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));n.displayName="Input"},4055:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var s=r(2064),a=r(5032),o=r(1937),n=r(5217),i=r(4342);let l=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>s.jsx(o.f,{ref:r,className:(0,i.cn)(l(),e),...t}));d.displayName=o.f.displayName},112:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>c,a:()=>u});var s=r(2064),a=r(5032),o=r(456);let n=(0,a.createContext)(void 0),i=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",l="access_token",d="refresh_token";function c({children:e}){let[t,r]=(0,a.useState)({user:null,isLoading:!0,isAuthenticated:!1}),c=(0,a.useCallback)((e,t,r=!1)=>{let s={secure:!0,sameSite:"lax"};r&&(s.expires=30),o.Z.set(l,e,s),o.Z.set(d,t,s)},[]),u=(0,a.useCallback)(()=>{o.Z.remove(l),o.Z.remove(d)},[]),m=(0,a.useCallback)(()=>o.Z.get(l),[]),h=(0,a.useCallback)(()=>o.Z.get(d),[]);(0,a.useCallback)(async()=>{let e=m();if(!e)return null;try{let t=await fetch(`${i}/v1/auth/me`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok){if(401===t.status)return null;throw Error("Failed to fetch user")}return(await t.json()).user}catch{return null}},[m]);let f=(0,a.useCallback)(async()=>{let e=h();if(!e)throw Error("No refresh token available");let t=await fetch(`${i}/v1/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:e})});if(!t.ok)throw u(),r({user:null,isLoading:!1,isAuthenticated:!1}),Error("Failed to refresh token");let s=await t.json();c(s.accessToken,s.refreshToken)},[h,c,u]),p=(0,a.useCallback)(async(e,t,s=!1)=>{let a=await fetch(`${i}/v1/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok)throw Error((await a.json()).error||"Login failed");let o=await a.json();c(o.accessToken,o.refreshToken,s),r({user:o.user,isLoading:!1,isAuthenticated:!0})},[c]),x=(0,a.useCallback)(async(e,t,s)=>{let a=await fetch(`${i}/v1/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:s})});if(!a.ok)throw Error((await a.json()).error||"Registration failed");let o=await a.json();c(o.accessToken,o.refreshToken),r({user:o.user,isLoading:!1,isAuthenticated:!0})},[c]),g=(0,a.useCallback)(async()=>{let e=m();try{e&&await fetch(`${i}/v1/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${e}`}})}catch{}u(),r({user:null,isLoading:!1,isAuthenticated:!1})},[m,u]);return s.jsx(n.Provider,{value:{...t,login:p,register:x,logout:g,refreshToken:f,getAccessToken:m},children:e})}function u(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4342:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var s=r(3921),a=r(1417);function o(...e){return(0,a.m6)((0,s.W)(e))}},5816:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(1924).createProxy)(String.raw`/home/merlin/Documents/thj/code/loa-registry/apps/web/src/app/(auth)/forgot-password/page.tsx#default`)},9483:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(9222);function a({children:e}){return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-background to-muted p-4",children:[(0,s.jsxs)("div",{className:"mb-8 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Loa Skills Registry"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Agent-driven development framework"})]}),s.jsx("div",{className:"w-full max-w-md",children:e}),s.jsx("footer",{className:"mt-8 text-center text-sm text-muted-foreground",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," The Honey Jar. All rights reserved."]})})]})}},9418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var s=r(9222),a=r(414),o=r.n(a),n=r(1924);let i=(0,n.createProxy)(String.raw`/home/merlin/Documents/thj/code/loa-registry/apps/web/src/contexts/auth-context.tsx#AuthProvider`);(0,n.createProxy)(String.raw`/home/merlin/Documents/thj/code/loa-registry/apps/web/src/contexts/auth-context.tsx#useAuth`),r(5988);let l={title:{default:"Loa Skills Registry",template:"%s | Loa Skills Registry"},description:"Discover, install, and manage AI agent skills for the Loa framework",keywords:["AI skills","Claude","Loa framework","agent skills","marketplace"]};function d({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:`${o().variable} font-sans antialiased`,children:s.jsx(i,{children:e})})})}},5988:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[569,307,308,444],()=>r(2733));module.exports=s})();