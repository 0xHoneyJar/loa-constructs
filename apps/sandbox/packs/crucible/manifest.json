{
  "schema_version": 3,
  "name": "Crucible",
  "slug": "crucible",
  "version": "1.1.0",
  "description": "Validation and testing skills for journey verification",
  "author": "0xHoneyJar",
  "license": "MIT",
  "tools": {
    "agent-browser": {
      "install": "npm install -g agent-browser && agent-browser install",
      "required": false,
      "purpose": "Browser automation for journey walkthroughs and visual validation",
      "check": "agent-browser --version"
    }
  },
  "mcp_dependencies": {
    "agentation": {
      "required": false,
      "required_scopes": ["agentation_get_all_pending", "agentation_resolve"],
      "reason": "Visual feedback annotations for gap discovery and walkthrough",
      "fallback": "Manual gap description via --add-gap flag"
    }
  },
  "quick_start": {
    "command": "/walkthrough",
    "description": "validate a user journey against your code"
  },
  "skills": [
    {"slug": "validating-journeys", "path": "skills/validating-journeys"},
    {"slug": "grounding-code", "path": "skills/grounding-code"},
    {"slug": "iterating-feedback", "path": "skills/iterating-feedback"},
    {"slug": "walking-through", "path": "skills/walking-through"},
    {"slug": "diagramming-states", "path": "skills/diagramming-states"}
  ],
  "contexts": {
    "schemas_dir": "contexts/schemas",
    "overlays_dir": "contexts/overlays"
  },
  "pack_dependencies": [
    {
      "pack": "observer",
      "required": true,
      "relationship": "consumes",
      "artifacts": ["grimoires/observer/journeys/*.md", "grimoires/observer/canvas/*.md"],
      "description": "Journey definitions and user canvases drive validation test generation"
    }
  ],
  "events": {
    "emits": [
      {
        "type": "forge.crucible.journey_validated",
        "description": "Emitted when a journey validation test suite completes",
        "data_schema": {"journey_id": "string", "pass_count": "number", "fail_count": "number"}
      },
      {
        "type": "forge.crucible.gap_detected",
        "description": "Emitted when validation reveals an expectation gap",
        "data_schema": {"journey_id": "string", "gap_description": "string"}
      }
    ],
    "consumes": [
      {
        "type": "forge.observer.journey_shaped",
        "description": "New journeys trigger validation test generation"
      }
    ]
  },
  "hooks": {
    "post_install": "scripts/install.sh"
  }
}
